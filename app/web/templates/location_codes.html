{% extends "base.html" %}
{% block content %}
<section class="panel">
  <h2>Create machine code</h2>
  <form id="location-code-form" class="form-stack">
    <div class="grid">
      <label>Formulation (dropdown)
        <select id="location-formulation-select" name="formulation_select">
          <option value="">Select formulation</option>
        </select>
      </label>
      <label>Formulation code (manual)
        <input id="location-formulation-manual" name="formulation_manual" placeholder="AB AB AC" />
      </label>
      <label>Compounding partner
        <select name="partner_code" id="location-partner-select" required>
          <option value="">Select partner</option>
        </select>
      </label>
      <label>Date of production
        <input type="date" name="production_date" id="location-production-date" required />
      </label>
      <label>YYMMDD code
        <input name="production_code" id="location-production-code" placeholder="240827" readonly />
      </label>
    </div>
    <button type="submit">Generate location ID</button>
  </form>
  <p id="location-code-output"></p>
</section>

<section class="panel">
  <!-- Paginated list includes server-side contains filtering on full location code text. -->
  <h2>Machine codes</h2>
  <form id="location-codes-filter-form" class="inline-actions">
    <label>Filter location code <input name="q" id="location-codes-filter-input" placeholder="e.g. AB AC, 250112" /></label>
    <button type="submit">Filter</button>
  </form>
  <div id="location-codes-results">
    <table>
      <thead>
        <tr>
          <th>Location code</th>
          <th>Owner</th>
          <th>Compounding partner</th>
          <th>Date created</th>
        </tr>
      </thead>
      <tbody id="location-codes-table-body">
        <tr><td colspan="4">No location codes loaded.</td></tr>
      </tbody>
    </table>
  </div>
  <div class="inline-actions" id="location-codes-pagination">
    <button type="button" id="location-codes-prev-page">Previous</button>
    <span id="location-codes-page-label">Page 1 of 1</span>
    <button type="button" id="location-codes-next-page">Next</button>
  </div>
</section>
{% endblock %}
