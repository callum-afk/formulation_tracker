{% extends "base.html" %}
{% block content %}
<section class="panel">
  <h2>Create location ID</h2>
  <form id="location-code-form" class="form-stack">
    <div class="grid">
      <label>Set code <input name="set_code" maxlength="2" pattern="[A-Za-z]{2}" placeholder="AB" required /></label>
      <label>Weight code <input name="weight_code" maxlength="2" pattern="[A-Za-z]{2}" placeholder="AB" required /></label>
      <label>Batch variant code <input name="batch_variant_code" maxlength="2" pattern="[A-Za-z]{2}" placeholder="AB" required /></label>
      <label>Compounding partner
        <select name="partner_code" id="location-partner-select" required>
          <option value="">Select partner</option>
        </select>
      </label>
      <label>Date of production
        <input type="date" name="production_date" id="location-production-date" required />
      </label>
      <label>YYMMDD code
        <input name="production_code" id="location-production-code" placeholder="240827" readonly />
      </label>
    </div>
    <button type="submit">Generate location ID</button>
  </form>
  <p id="location-code-output"></p>
</section>

<section class="panel">
  <!-- Paginated list of created location codes keeps recent records visible for traceability. -->
  <h2>Location codes</h2>
  <div id="location-codes-results">
    <table>
      <thead>
        <tr>
          <th>Location code</th>
          <th>Set code</th>
          <th>Weight code</th>
          <th>Batch variant code</th>
          <th>Compounding partner</th>
          <th>Date of production</th>
          <th>YYMMDD code</th>
          <th>Created</th>
          <th>Owner</th>
        </tr>
      </thead>
      <tbody id="location-codes-table-body">
        <tr><td colspan="9">No location codes loaded.</td></tr>
      </tbody>
    </table>
  </div>
  <div class="inline-actions" id="location-codes-pagination">
    <button type="button" id="location-codes-prev-page">Previous</button>
    <span id="location-codes-page-label">Page 1 of 1</span>
    <button type="button" id="location-codes-next-page">Next</button>
  </div>
</section>
{% endblock %}
