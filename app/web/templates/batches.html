{% extends "base.html" %}
{% block content %}
<section class="panel">
  <h2>Create batch</h2>
  <form id="batch-form">
    <div class="grid">
      <label>SKU <input name="sku" list="sku-list" required /></label>
      <label>Batch code <input name="ingredient_batch_code" required /></label>
      <label>Received at <input name="received_at" type="datetime-local" /></label>
      <label>Notes <input name="notes" /></label>
      <label>Quantity value <input name="quantity_value" type="number" min="0" step="0.01" /></label>
      <label>Quantity unit <input name="quantity_unit" placeholder="kg, L, units..." /></label>
      <label>Certificate of Analysis (PDF, optional)
        <input type="file" name="coa_file" accept="application/pdf" />
      </label>
    </div>
    <datalist id="sku-list">
      {% for item in items %}
      <option value="{{ item.sku }}">{{ item.trade_name_inci }}</option>
      {% endfor %}
    </datalist>
    <button type="submit">Create batch</button>
  </form>
</section>

<section class="panel">
  <h2>Lookup batches</h2>
  <form id="batch-lookup-form" class="inline-actions">
    <label>SKU <input name="sku" list="sku-list" /></label>
    <label>Batch code <input name="batch_code" placeholder="e.g. AB" /></label>
    <button type="submit">Load</button>
  </form>
  <table>
    <thead>
      <tr>
        <th>SKU</th>
        <th>Batch code</th>
        <th>Received at</th>
        <th>Notes</th>
        <th>Quantity</th>
        <th>Owner</th>
        <th>CoA</th>
      </tr>
    </thead>
    <tbody id="batch-results">
      <tr><td colspan="7">No batches loaded.</td></tr>
    </tbody>
  </table>
  <div class="inline-actions" id="batches-pagination">
    <button type="button" id="batches-prev-page">Previous</button>
    <span id="batches-page-label">Page 1</span>
    <button type="button" id="batches-next-page">Next</button>
  </div>
</section>
{% endblock %}
