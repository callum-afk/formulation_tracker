{% extends "base.html" %}
{% block content %}
<section class="panel">
  <h2>Create formulation set</h2>
  <form id="set-form" class="form-stack">
    <div class="grid" id="sku-selects">
      {# Start with 6 SKU selectors by default, while still allowing users to add more dynamically. #}
      {% for _ in range(6) %}
      <label>SKU
        <select name="skus">
          <option value="">Select SKU</option>
          {% for item in items %}
          <option value="{{ item.sku }}">{{ item.sku }} - {{ item.trade_name_inci }}</option>
          {% endfor %}
        </select>
      </label>
      {% endfor %}
    </div>
    <button type="button" id="add-sku-select">Add another SKU</button>
    <button type="submit">Create set</button>
  </form>
</section>

<template id="sku-select-template">
  <label>SKU
    <select name="skus">
      <option value="">Select SKU</option>
      {% for item in items %}
      <option value="{{ item.sku }}">{{ item.sku }} - {{ item.trade_name_inci }}</option>
      {% endfor %}
    </select>
  </label>
</template>

<section class="panel">
  <h2>Existing formulation sets</h2>
  <form id="sets-filter-form" class="inline-actions">
    <label>Search set code or SKU <input name="q" placeholder="e.g. AB or 3_0012_25" /></label>
    <button type="submit">Search</button>
  </form>
  <table>
    <thead>
      <tr>
        <th>Set code</th>
        <th>Owner</th>
        <th>Created</th>
        <th>SKUs</th>
      </tr>
    </thead>
    <tbody id="sets-results">
      <tr><td colspan="4">No sets loaded.</td></tr>
    </tbody>
  </table>
  <div class="inline-actions" id="sets-pagination">
    <button type="button" id="sets-prev-page">Previous</button>
    <span id="sets-page-label">Page 1</span>
    <button type="button" id="sets-next-page">Next</button>
  </div>
</section>
{% endblock %}
